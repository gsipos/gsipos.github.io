---
import { cn } from '../lib/utils'
import LinkPreviewImage from './LinkPreviewImage.astro'
import SimpleIcon from './SimpleIcon.astro'
import { LinkPreview } from '@astro-community/astro-embed-link-preview'

interface Props {
  name: string
  description?: string
  slug: string
  simpleIcon?: string
  link?: string
}

const { name, description, slug, simpleIcon, link } = Astro.props
---

<a href={`/tech/${slug}`} class="block group">
  <div
    class="h-full rounded-lg border border-border bg-card text-card-foreground shadow-sm transition-all hover:shadow-md hover:-translate-y-1 flex flex-col"
  >
    {link && <LinkPreviewImage url={link} class="aspect-[16/9] object-cover" />}

    <div class="flex flex-row gap-2 items-baseline px-4 mt-2">
      <SimpleIcon slug={simpleIcon} class="w-5 h-5" useIconBaseColor />
      <h3 class="text-lg font-semibold text-foreground mb-1">{name}</h3>
    </div>
    {description && <p class="text-sm text-muted-foreground text-balance px-4 pb-4">{description}</p>}
  </div>
</a>
